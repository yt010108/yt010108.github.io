## 네트워크 표준화 기구(OSI)

 **OSI 7계층 (OSI 7 Layer)**: 국제표준화기구(ISO)에서 만든 모델로, 네트워크 통신 과정을 7개의 단계(계층)로 나누어 설명합니다. 각 계층은 독립적인 역할을 수행하며, 통신 과정을 이해하는 데 중요한 기준이 됩니다.
![[Pasted image 20250701163434.png]]


## 1. Physical(물리계층)

물리 계층은 데이터를 **0과 1의 비트(bit) 신호**로 변환하여 케이블, 전파 등 물리적인 매체를 통해 실제로 전송하는 역할을 합니다. 물리 계층에서는 케이블의 종류(예: UTP 케이블, 광케이블), 커넥터 모양, 신호의 전압 레벨 등 물리적이고 전기적인 특성을 표준으로 정합니다. 

⇒ 물리 계층이란 어떤 선을 연결할 것인지?, 신호를 어떻게 해석할 것인지에 대한 표준을 정하는 계층이다.  이제 선이 연결되고 연결된 데이터를 어떤 방식으로 해석할 것인지에 대해 정했다. 1:1 연결에서는 상관없지만 연결하려는 엔드포인트가 많아질 수록 모든 엔드포인트끼리 연결하려면 선의 개수가 n(n-1)/2가되므로 너무 비효율적이다. 

### Repeater(리피터)

서로 먼 거리에 있는 호스트를 연결할 때 신호의 감쇠 및 간섭 영향을 줄이기 위해 설계

### Hub(허브)

리피터에 포트를 많이 만든 것:  데이터를 받으면 연결된 모든 포트에 받은 데이터를 전부 전송 선의 개수가 n(n-1)/2인 것을 해결 하지만 다음과 같은 문제점 발생

- 같은 선을 사용하므로 충돌 가능성이 생김 
- 같은 선을 사용하므로 신호가 어디서 출발했는 지 구별이 어려움
---

## 2. Data Link(데이터 링크 계층)

이제 어떤 구조로 연결할지와 어떤 선을 연결할지, 정보 전송방식을 정했다. 즉 호스트-호스트끼리의 연결을 만들었다. 하지만 호스트-호스트 연결이 많아지면서 충돌이 점점 많아지고 어디서 신호가 온 것인지 판별하기 어려움 → 어디서 온건지 적어두자 (mac주소)
![[Pasted image 20250702145141.png]]
네트워크 인터페이스 카드에 mac주소를 부여해 구별⇒주소를 통해 어디로 가는지는 알았음 근데 호스트는 연결된 하나의 선에 mac주소를 헤더에 달고 보내는 것만 할 수 있고 나머지는 못함 하지만 허브는 모든 곳에 플루딩

⇒송신자가 보낸 데이터를 수신자에게만 보내주는 장치가 필요 ⇒ 스위치

### Switch(스위치)

스위치는 허브에서 필요에 따라 포트를 차단해 전송하는 장치이다. MAC주소를 기반으로 어떤 호스트가 어떤 포트에 연결되어있는 지 식별하는 테이블을 가지고 스위칭한다.
###### 스위치 테이블
스위치 테이블 학습하는 방법은 일단 스위치로 들어오는 패킷의 mac주소와 포트번호를 매핑하고 보낼 때 테이블에 없으면 브로드 케스팅해서 돌아오는 패킷의 mac 주소와 포트번호를 매핑한다.

* 스위칭 태이블(mac→port) why → 하나의 port에 여러개 mac주소가 가능하기 때문에(허브 이용)

하지만 브로드 케스팅 때문에 문제가 생긴다. 브로드케스팅 때문에 네트워크가 시끄러워지고 브로드케스팅 스톰 때문에 네트워크가 마비될 수도 있음
-> 네트워크를 나누자
##### L2.5 arp
arp아이피주소를 기반으로 mac주소를 알아냄 하지만 엄밀히 말하면 2계층이다.⇒2.5계층으로 여겨짐.

## 3. Network(네트워크 계층)

네트워크와 네트워크를 연결하여 **종단 간(end-to-end) 경로를 설정하고 데이터를 전송**하는 역할을 합니다. 라우터를 사용해 브로드캐스트 범위를 제한하며, 이를 위해 논리적 주소인 **IP 주소**를 사용합니다.
같은 ip주소 대역을 사용하면 같은 네트워크에 속하며 호스트는 다른 네트워크로 패킷을 보낼 때 라우터 주소로 보내게 된다.

### 라우터

라우터는 목적지 네트워크 주소와 해당 네트워크로 패킷을 전송하는 경로에 대한 테이블을 지님 ⇒라우팅테이블

next hop : 라우터는 인접한 네트워크만 알 수 있다. 따라서 next hop이 필요하다

ttl 윈도우 128 리눅스 64 받을 때 ttl이 줄어들고 줄어들고 0이 되면 거기서 패킷은 버려진다.

## 4. Transport(전송 계층)
패킷이 네트워크를 통해서 올바르게 전송되고 받아진다. 하지만 컴퓨터가 발전하면서 하나의 컴퓨터에 여러가지 서비스가 돌아간다. 이제 컴퓨터 내에서 어떤 서비스에 전송할 것인가에 대한 구별이 필요하다. -> 포트번호가 필요하다.

##### 포트번호
네트워크에서 프로세스를 구분하기 위한 식별자

#### UDP
서비스 단위로 데이터를 전송하기 위한 기본적인 형태로 소스 포트, 목적지 포트, 길이, 체크썸으로 이루어진다. 

#### TCP
**신뢰성**을 보장하는 프로토콜입니다. 데이터를 보내기 전 상대방과 연결을 수립(3-way handshake)하고, 데이터가 정확하고 순서대로 전달되었는지 확인합니다. 이를 위해 **오류 제어, 흐름 제어, 혼잡 제어** 등의 복잡한 기능을 수행합니다. 

## 5. Session(세션 계층) 
응용 프로그램 간의 **대화(세션)를 수립, 관리, 동기화 및 종료**하는 역할을 담당합니다. 즉, 통신의 시작과 끝, 그리고 통신 도중 중단되었을 때 복구하는 방법을 관리합니다.

**세션 수립 및 종료:** 양 끝단의 응용 프로세스가 통신을 시작하고 끝낼 수 있도록 관리합니다. (예: 로그인/로그아웃 절차)

## 6. Presentation(표현계층)
애플리케이션이 사용하는 데이터 형식을 네트워크 전송에 적합한 **공통된 형식(Standard Format)으로 변환**하는 역할을 합니다. 즉, 데이터의 '표현' 방식을 통일시켜 서로 다른 시스템이 데이터를 올바르게 해석할 수 있도록 합니다.

## 7. Application(응용 계층)
사용자가 네트워크 서비스와 **직접 상호작용**하는 최상위 계층입니다. 우리가 흔히 사용하는 이메일, 웹 브라우저, 파일 전송 프로그램 등이 이 계층에서 동작합니다.

- **주요 프로토콜:**
    
    - **HTTP(S):** 웹 페이지와 같은 하이퍼텍스트 문서를 주고받기 위한 프로토콜입니다.
        
    - **FTP:** 네트워크를 통해 파일을 송수신하기 위한 프로토콜입니다.
        
    - **SMTP:** 이메일을 보낼 때 사용하는 프로토콜입니다.
        
    - **DNS:** `google.com`과 같은 도메인 이름을 컴퓨터가 이해할 수 있는 IP 주소로 변환해주는 서비스입니다.